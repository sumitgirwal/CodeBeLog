{% extends 'base.html' %}
{% load static %}
{% block title %} Home Page {% endblock %}
{% block blog %}

<style>
.pagination {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0 auto;
    padding: 10px;
    border-radius: 10px;
    border: 1px solid lightgray;
}
 

.pagination .active {
    color: lightskyblue;
}

.pagination .disabled {
    color: rgb(17, 24, 29);
}

.pagination li a {
    color: black;
    font-size: 16px;
    padding: 8px 10px;

}
</style>
<section class="blog-section">
    {% if posts|length == 0 %}
        <h1>Sorry, No artices found!!!</h1>
    {% endif %}

    {% for post in posts %}
    <div class="blog">
        <div class="blog-left">
            <img src="{{ post.user.photo.url }}" alt="User Logo">
        </div>
        
        <div class="blog-right">
            <div class="blog-header">
                <a href="#">@{{ post.user.name }} </a>
                <p>{{ post.created_at | timesince }} - {{ post.view }}</p>
                 
            </div>
            <div class="blog-body">
                <a href="view/{{ post.id }}" class="blog-title">
                    {{ post.title }}
                </a>
                <a href="{% url 'post_detail' post.slug  %}" class="blog-title">
                    {{ post.title }}
                </a>
                <div class="blog-subtitle">
                    {{ post.subtitle }}
                </div>
                <div class="blog-description">
                    {{ post.description | truncatechars:100 }}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}

    {% if posts.has_other_pages %}
    <ul class="pagination">
        {% if posts.has_previous %}
            <li><a href="?page={{ posts.previous_page_number }}">&laquo;</a></li>
        {% else %}
            <li class="disabled"><span>&laquo;</span></li>
        {% endif %}

        {% for i in posts.paginator.page_range %}
            {% if posts.number == i %}
                <li class="active">
                    <span>{{ i }} 
                        <!-- <span class="sr-only">(current)</span> -->
                    </span>
                </li>
            {% else %}
                <li><a href="?page={{ i }}">{{ i }}</a></li>
            {% endif %}
        {% endfor %}

        {% if posts.has_next %}
            <li><a href="?page={{ posts.next_page_number }}">&raquo;</a></li>
        {% else %}
            <li class="disabled"><span>&raquo;</span></li>
        {% endif %}
    </ul>
    {% endif %}

</section>
{% endblock %}